import tkinter
import tkinter.messagebox
import pickle

root = tkinter.Tk()
root.title("To-Do List")

def add():
  task = entry_task.get()
  if task!="":
    listbox.insert(tkinter.END, task)
    entry_task.delete(0, tkinter.END)
  else:
    tkinter.messagebox.showwarning(title="Warning", message="Enter a task")

def delete():
  try:
    task_index = listbox.curselection()[0]
    listbox.delete(task_index)
  except:
    tkinter.messagebox.showwarning(title="Warning", message="Select a task to delete")

def load():
  try:
    tasks = pickle.load(open("task.data" , "rb"))
    listbox.delete(0, tkinter.END)
    for task in tasks:
      listbox.insert(tkinter.END, task)
  except:
    tkinter.messagebox.showwarning(title="Warning" , message="Task not found")

def save():
  tasks = listbox.get(0, listbox.size())
  pickle.dump(tasks, open("task.data", "wb"))

frame = tkinter.Frame(root)
frame.pack()

scrollbar_tasks = tkinter.Scrollbar(frame)
scrollbar_tasks.pack(side=tkinter.RIGHT, fill=tkinter.Y)

listbox = tkinter.Listbox(frame, height = 15, width=50)
listbox.pack()

listbox.config(yscrollcommand=scrollbar_tasks.set)
scrollbar_tasks.config(command=listbox.yview)

entry_task = tkinter.Entry(root, width=50)
entry_task.pack()

button_add_task = tkinter.Button(root, text="Add task" , width=48, command=add)
button_add_task.pack()

delete_button = tkinter.Button(root, text="Delete Task" , width=48, command=delete)
delete_button.pack()

save_button = tkinter.Button(root, text="Save Task" , width=48, command= save)
save_button.pack()

load_button = tkinter.Button(root, text="Load Task" , width=48 , command=load)
load_button.pack()

()
